{
    "info": {
        "_postman_id": "a1b2c3d4-e5f6-7890-abcd-ef1234567890",
        "name": "1. WorkFitAI - Auth Service",
        "description": "Complete API collection for WorkFitAI Auth Service - Authentication, Authorization, Role Management & Approval Workflows",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
        "_exporter_id": "12345678"
    },
    "item": [
        {
            "name": "Public Endpoints",
            "item": [
                {
                    "name": "Health Check",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}",
                            "host": [
                                "{{baseUrl}}"
                            ]
                        },
                        "description": "Check if auth-service is running"
                    },
                    "response": []
                },
                {
                    "name": "Get RSA Public Key",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/api/v1/keys/public",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "api",
                                "v1",
                                "keys",
                                "public"
                            ]
                        },
                        "description": "Retrieve RSA-2048 public key for JWT signature verification"
                    },
                    "response": []
                }
            ],
            "description": "Endpoints accessible without authentication"
        },
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Register CANDIDATE",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success) {",
                                    "        pm.environment.set('candidateEmail', pm.variables.get('candidateEmail'));",
                                    "        console.log('CANDIDATE registered successfully. Please verify OTP.');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{candidateEmail}}\",\n  \"password\": \"{{candidatePassword}}\",\n  \"role\": \"CANDIDATE\",\n  \"fullName\": \"{{candidateFullName}}\",\n  \"phoneNumber\": \"{{candidatePhone}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "register"
                            ]
                        },
                        "description": "Register new CANDIDATE user (auto-activated after OTP verification)"
                    },
                    "response": []
                },
                {
                    "name": "Register HR",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success) {",
                                    "        pm.environment.set('hrEmail', pm.variables.get('hrEmail'));",
                                    "        console.log('HR registered successfully. Status: WAIT_APPROVED - Requires HR_MANAGER approval');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{hrEmail}}\",\n  \"password\": \"{{hrPassword}}\",\n  \"role\": \"HR\",\n  \"fullName\": \"{{hrFullName}}\",\n  \"phoneNumber\": \"{{hrPhone}}\",\n  \"hrProfile\": {\n    \"department\": \"{{hrDepartment}}\",\n    \"hrManagerEmail\": \"{{hrManagerEmailForApproval}}\",\n    \"address\": \"{{hrAddress}}\"\n  }\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "register"
                            ]
                        },
                        "description": "Register new HR user (requires HR_MANAGER approval after OTP verification)"
                    },
                    "response": []
                },
                {
                    "name": "Register HR_MANAGER",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success) {",
                                    "        pm.environment.set('hrManagerEmail', pm.variables.get('hrManagerEmail'));",
                                    "        console.log('HR_MANAGER registered successfully. Status: WAIT_APPROVED - Requires ADMIN approval');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{hrManagerEmail}}\",\n  \"password\": \"{{hrManagerPassword}}\",\n  \"role\": \"HR_MANAGER\",\n  \"fullName\": \"{{hrManagerFullName}}\",\n  \"phoneNumber\": \"{{hrManagerPhone}}\",\n  \"hrProfile\": {\n    \"department\": \"{{hrManagerDepartment}}\",\n    \"address\": \"{{hrManagerAddress}}\"\n  },\n  \"company\": {\n    \"companyId\": \"{{companyId}}\",\n    \"name\": \"{{companyName}}\",\n    \"logoUrl\": \"{{companyLogoUrl}}\",\n    \"websiteUrl\": \"{{companyWebsiteUrl}}\",\n    \"description\": \"{{companyDescription}}\",\n    \"address\": \"{{companyAddress}}\",\n    \"size\": \"{{companySize}}\"\n  }\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "register"
                            ]
                        },
                        "description": "Register new HR_MANAGER user with company (requires ADMIN approval after OTP verification)"
                    },
                    "response": []
                },
                {
                    "name": "Verify OTP - CANDIDATE",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success) {",
                                    "        console.log('CANDIDATE OTP verified successfully. Status: ACTIVE - Can login now');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{candidateEmail}}\",\n  \"otp\": \"123456\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/verify-otp",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "verify-otp"
                            ]
                        },
                        "description": "Verify OTP for CANDIDATE registration (auto-activates account)"
                    },
                    "response": []
                },
                {
                    "name": "Verify OTP - HR",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success) {",
                                    "        console.log('HR OTP verified. Status: WAIT_APPROVED - Waiting for HR_MANAGER approval');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{hrEmail}}\",\n  \"otp\": \"123456\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/verify-otp",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "verify-otp"
                            ]
                        },
                        "description": "Verify OTP for HR registration (remains in WAIT_APPROVED status)"
                    },
                    "response": []
                },
                {
                    "name": "Verify OTP - HR_MANAGER",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success) {",
                                    "        console.log('HR_MANAGER OTP verified. Status: WAIT_APPROVED - Waiting for ADMIN approval');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{hrManagerEmail}}\",\n  \"otp\": \"123456\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/verify-otp",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "verify-otp"
                            ]
                        },
                        "description": "Verify OTP for HR_MANAGER registration (remains in WAIT_APPROVED status)"
                    },
                    "response": []
                },
                {
                    "name": "Login - CANDIDATE",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success && response.data) {",
                                    "        pm.environment.set('candidateAccessToken', response.data.accessToken);",
                                    "        console.log('CANDIDATE logged in successfully');",
                                    "        console.log('Access Token expires in: ' + response.data.expiresIn + 'ms');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "X-Device-Id",
                                "value": "postman-candidate-device",
                                "description": "Optional device identifier for multi-device support"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{candidateEmail}}\",\n  \"password\": \"{{candidatePassword}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "login"
                            ]
                        },
                        "description": "Login as CANDIDATE (returns JWT access token + refresh token in cookie)"
                    },
                    "response": []
                },
                {
                    "name": "Login - HR",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success && response.data) {",
                                    "        pm.environment.set('hrAccessToken', response.data.accessToken);",
                                    "        console.log('HR logged in successfully');",
                                    "        console.log('Access Token expires in: ' + response.data.expiresIn + 'ms');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "X-Device-Id",
                                "value": "postman-hr-device",
                                "description": "Optional device identifier for multi-device support"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{hrEmail}}\",\n  \"password\": \"{{hrPassword}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "login"
                            ]
                        },
                        "description": "Login as HR (only works after HR_MANAGER approval)"
                    },
                    "response": []
                },
                {
                    "name": "Login - HR_MANAGER",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success && response.data) {",
                                    "        pm.environment.set('hrManagerAccessToken', response.data.accessToken);",
                                    "        console.log('HR_MANAGER logged in successfully');",
                                    "        console.log('Access Token expires in: ' + response.data.expiresIn + 'ms');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "X-Device-Id",
                                "value": "postman-hrmanager-device",
                                "description": "Optional device identifier for multi-device support"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{hrManagerEmail}}\",\n  \"password\": \"{{hrManagerPassword}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "login"
                            ]
                        },
                        "description": "Login as HR_MANAGER (only works after ADMIN approval)"
                    },
                    "response": []
                },
                {
                    "name": "Login - ADMIN",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success && response.data) {",
                                    "        pm.environment.set('adminAccessToken', response.data.accessToken);",
                                    "        console.log('ADMIN logged in successfully');",
                                    "        console.log('Access Token expires in: ' + response.data.expiresIn + 'ms');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            },
                            {
                                "key": "X-Device-Id",
                                "value": "postman-admin-device",
                                "description": "Optional device identifier for multi-device support"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"{{adminEmail}}\",\n  \"password\": \"{{adminPassword}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "login"
                            ]
                        },
                        "description": "Login as ADMIN (full system access)"
                    },
                    "response": []
                },
                {
                    "name": "Refresh Token - Via Cookie",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success && response.data) {",
                                    "        pm.environment.set('candidateAccessToken', response.data.accessToken);",
                                    "        console.log('Access token refreshed via cookie');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "X-Device-Id",
                                "value": "postman-candidate-device",
                                "description": "Optional device identifier for multi-device support"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/refresh",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "refresh"
                            ]
                        },
                        "description": "Get new access token using refresh token from cookie (set-cookie from login)"
                    },
                    "response": []
                },
                {
                    "name": "Logout",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{candidateAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "X-Device-Id",
                                "value": "postman-candidate-device",
                                "description": "Optional device identifier for multi-device support"
                            }
                        ],
                        "url": {
                            "raw": "{{baseUrl}}/logout",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "logout"
                            ]
                        },
                        "description": "Logout current user (invalidates refresh token and clears cookie)"
                    },
                    "response": []
                }
            ],
            "description": "Authentication endpoints - Register, OTP verification, Login, Token refresh, Logout"
        },
        {
            "name": "Approval Management",
            "item": [
                {
                    "name": "Get Pending Approvals",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success && response.data && response.data.length > 0) {",
                                    "        console.log('Found ' + response.data.length + ' pending approvals');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/admin/pending-approvals",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "pending-approvals"
                            ]
                        },
                        "description": "Get list of users waiting for approval (HR_MANAGER or ADMIN only)"
                    },
                    "response": []
                },
                {
                    "name": "Approve HR_MANAGER",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success) {",
                                    "        console.log('HR_MANAGER approved successfully');",
                                    "        console.log('Status changed from WAIT_APPROVED to ACTIVE');",
                                    "        console.log('Company created via Kafka event');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"approvedBy\": \"{{adminEmail}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/admin/approve-hr-manager/{{hrManagerUserId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "approve-hr-manager",
                                "{{hrManagerUserId}}"
                            ]
                        },
                        "description": "Approve HR_MANAGER registration (ADMIN only) - triggers company creation via Kafka"
                    },
                    "response": []
                },
                {
                    "name": "Approve HR",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success) {",
                                    "        console.log('HR approved successfully');",
                                    "        console.log('Status changed from WAIT_APPROVED to ACTIVE');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{hrManagerAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"approvedBy\": \"{{hrManagerEmail}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/admin/approve-hr/{{hrUserId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "approve-hr",
                                "{{hrUserId}}"
                            ]
                        },
                        "description": "Approve HR registration (HR_MANAGER or ADMIN)"
                    },
                    "response": []
                },
                {
                    "name": "Reject User Registration",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success) {",
                                    "        console.log('User registration rejected');",
                                    "        console.log('Status changed to REJECTED');",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"rejectedBy\": \"{{adminEmail}}\",\n  \"reason\": \"Does not meet company requirements\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/admin/reject/{{pendingUserId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "admin",
                                "reject",
                                "{{pendingUserId}}"
                            ]
                        },
                        "description": "Reject user registration (HR_MANAGER or ADMIN)"
                    },
                    "response": []
                }
            ],
            "description": "User approval workflow management - Get pending users, approve/reject registrations"
        },
        {
            "name": "Permission Management",
            "item": [
                {
                    "name": "Get All Permissions",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/permissions",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "permissions"
                            ]
                        },
                        "description": "Get all permissions (ADMIN only, requires perm:read)"
                    },
                    "response": []
                },
                {
                    "name": "Create Permission",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success && response.data) {",
                                    "        pm.environment.set('permissionName', response.data.name);",
                                    "        console.log('Permission created: ' + response.data.name);",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"custom:test\",\n  \"description\": \"Custom test permission\",\n  \"resource\": \"custom\",\n  \"action\": \"test\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/permissions",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "permissions"
                            ]
                        },
                        "description": "Create new permission (ADMIN only, requires perm:create) - Format: resource:action"
                    },
                    "response": []
                },
                {
                    "name": "Get Permission by Name",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/permissions/{{permissionName}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "permissions",
                                "{{permissionName}}"
                            ]
                        },
                        "description": "Get permission details by name (ADMIN only, requires perm:read)"
                    },
                    "response": []
                }
            ],
            "description": "Permission management operations (ADMIN only with specific permissions)"
        },
        {
            "name": "Role Management",
            "item": [
                {
                    "name": "Get All Roles",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/roles",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "roles"
                            ]
                        },
                        "description": "Get all roles (ADMIN only, requires role:read)"
                    },
                    "response": []
                },
                {
                    "name": "Create Role",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.success && response.data) {",
                                    "        pm.environment.set('roleName', response.data.name);",
                                    "        console.log('Role created: ' + response.data.name);",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"CUSTOM_ROLE\",\n  \"description\": \"Custom role for testing\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/roles",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "roles"
                            ]
                        },
                        "description": "Create new role (ADMIN only, requires role:create)"
                    },
                    "response": []
                },
                {
                    "name": "Add Permission to Role",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"permission\": \"{{permissionName}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/roles/{{roleName}}/permissions",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "roles",
                                "{{roleName}}",
                                "permissions"
                            ]
                        },
                        "description": "Add permission to role (ADMIN only, requires role:update)"
                    },
                    "response": []
                }
            ],
            "description": "Role management operations (ADMIN only with specific permissions)"
        },
        {
            "name": "User Role Assignment",
            "item": [
                {
                    "name": "Grant Role to User",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/users/{{candidateEmail}}/roles?role={{roleName}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "{{candidateEmail}}",
                                "roles"
                            ],
                            "query": [
                                {
                                    "key": "role",
                                    "value": "{{roleName}}"
                                }
                            ]
                        },
                        "description": "Assign role to user (ADMIN only, requires role:grant)"
                    },
                    "response": []
                },
                {
                    "name": "Revoke Role from User",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/users/{{candidateEmail}}/roles?role={{roleName}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "{{candidateEmail}}",
                                "roles"
                            ],
                            "query": [
                                {
                                    "key": "role",
                                    "value": "{{roleName}}"
                                }
                            ]
                        },
                        "description": "Remove role from user (ADMIN only, requires role:revoke)"
                    },
                    "response": []
                },
                {
                    "name": "Get User Roles",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminAccessToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/users/{{candidateEmail}}/roles",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "{{candidateEmail}}",
                                "roles"
                            ]
                        },
                        "description": "Get all roles for a specific user (ADMIN only, requires role:read)"
                    },
                    "response": []
                }
            ],
            "description": "User role assignment operations (ADMIN only with specific permissions)"
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    ""
                ]
            }
        }
    ],
    "variable": [
        {
            "key": "baseUrl",
            "value": "http://localhost:9085",
            "type": "string"
        }
    ]
}
